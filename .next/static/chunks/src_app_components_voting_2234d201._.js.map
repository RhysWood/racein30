{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhyswood/dev/racein30/src/app/components/voting/TheRace.jsx"],"sourcesContent":["'use client';\nimport React, { useEffect, useState } from 'react';\n\nconst TheRace = () => {\n  const [currentRace, setCurrentRace] = useState(null);\n\n  useEffect(() => {\n    const getCurrentRace = async () => {\n      try {\n        const response = await fetch('/api/current-race');\n        const data = await response.json();\n        setCurrentRace(data);\n      } catch (error) {\n        console.error('Error fetching current race:', error);\n      }\n    };\n\n    getCurrentRace();\n  }, []);\n\n  if (!currentRace) return <div>Loading...</div>;\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      month: 'long',\n      day: 'numeric',\n    });\n  };\n\n  return (\n    <div className=\"w-full flex flex-col items-center text-center mb-6\">\n      <h1 className=\"text-3xl font-extrabold text-black tracking-tight\">\n        {currentRace.race}\n      </h1>\n      <p className=\"text-sm text-gray-400 mt-1\">\n        {formatDate(currentRace.date)}\n      </p>\n      <VoteButtons raceId={currentRace._id} />\n    </div>\n  );\n};\n\nexport default TheRace;\n"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGA,MAAM,UAAU;;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,MAAM;oDAAiB;oBACrB,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM;wBAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,eAAe;oBACjB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,gCAAgC;oBAChD;gBACF;;YAEA;QACF;4BAAG,EAAE;IAEL,IAAI,CAAC,aAAa,qBAAO,6LAAC;kBAAI;;;;;;IAE9B,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,OAAO;YACP,KAAK;QACP;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BACX,YAAY,IAAI;;;;;;0BAEnB,6LAAC;gBAAE,WAAU;0BACV,WAAW,YAAY,IAAI;;;;;;0BAE9B,6LAAC;gBAAY,QAAQ,YAAY,GAAG;;;;;;;;;;;;AAG1C;GAtCM;KAAA;uCAwCS","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhyswood/dev/racein30/src/app/components/voting/VoteButtons.jsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\nexport default function VoteButtons({ raceId }) {\n  const [selected, setSelected] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleVote = async (voteType) => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch('/api/vote', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          raceId,\n          voteType: voteType === 'full' ? 'fullRace' : 'raceIn30'\n        }),\n      });\n\n      if (!response.ok) throw new Error('Vote failed');\n      \n      setSelected(voteType);\n    } catch (err) {\n      setError('Failed to submit vote. Please try again.');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center space-y-6\">\n      <h2 className=\"text-2xl font-bold text-center\">How was the race?</h2>\n      <div className=\"flex gap-6\">\n        {/* Race in 30 Button */}\n        <div className=\"relative group\">\n          <button\n            onClick={() => handleVote('30')}\n            disabled={isLoading || selected}\n            className={`px-6 py-4 rounded-2xl text-white text-lg font-semibold transition-all duration-200 ease-in-out\n              bg-gray-800 hover:bg-gray-700 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\n              ${selected === '30' ? 'ring-4 ring-blue-400' : ''}`}\n          >\n            Race in 30\n          </button>\n          <span className=\"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-sm px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-150\">\n            ðŸ˜´\n          </span>\n        </div>\n\n        {/* Full Race Replay Button */}\n        <div className=\"relative group\">\n          <button\n            onClick={() => handleVote('full')}\n            disabled={isLoading || selected}\n            className={`px-6 py-4 rounded-2xl text-white text-lg font-semibold transition-all duration-200 ease-in-out\n              bg-red-600 hover:bg-red-500 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\n              ${selected === 'full' ? 'ring-4 ring-green-400' : ''}`}\n          >\n            Full Race Replay\n          </button>\n          <span className=\"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-sm px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-150\">\n            ðŸ”¥\n          </span>\n        </div>\n      </div>\n\n      {error && (\n        <p className=\"text-red-500 mt-4 text-sm\">{error}</p>\n      )}\n\n      {selected && !error && (\n        <p className=\"text-green-500 mt-4 text-sm\">\n          Thanks for voting for the <strong>{selected === 'full' ? 'Full Race' : 'Race in 30'}</strong>!\n        </p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS,YAAY,EAAE,MAAM,EAAE;;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,aAAa,OAAO;QACxB,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,UAAU,aAAa,SAAS,aAAa;gBAC/C;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAElC,YAAY;QACd,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAiC;;;;;;0BAC/C,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,WAAW;gCAC1B,UAAU,aAAa;gCACvB,WAAW,CAAC;;cAEV,EAAE,aAAa,OAAO,yBAAyB,IAAI;0CACtD;;;;;;0CAGD,6LAAC;gCAAK,WAAU;0CAA+J;;;;;;;;;;;;kCAMjL,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,WAAW;gCAC1B,UAAU,aAAa;gCACvB,WAAW,CAAC;;cAEV,EAAE,aAAa,SAAS,0BAA0B,IAAI;0CACzD;;;;;;0CAGD,6LAAC;gCAAK,WAAU;0CAA+J;;;;;;;;;;;;;;;;;;YAMlL,uBACC,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;YAG3C,YAAY,CAAC,uBACZ,6LAAC;gBAAE,WAAU;;oBAA8B;kCACf,6LAAC;kCAAQ,aAAa,SAAS,cAAc;;;;;;oBAAsB;;;;;;;;;;;;;AAKvG;GAhFwB;KAAA","debugId":null}}]
}