{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/rhys/dev/racein30/src/app/analytics/page.jsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\n\nexport default function AnalyticsDashboard() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchAnalytics = async () => {\n      try {\n        const response = await fetch('/api/analytics');\n        const result = await response.json();\n        setData(result);\n      } catch (error) {\n        console.error('Failed to fetch analytics:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAnalytics();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"w-full max-w-4xl mx-auto py-8\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 w-48 bg-card-bg rounded mb-8\" />\n          <div className=\"h-[400px] bg-card-bg rounded-xl\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto py-8\">\n      <h1 className=\"text-3xl font-extrabold tracking-tight mb-8\">Analytics</h1>\n\n      <div className=\"rounded-xl bg-card-bg border border-card-border p-6\">\n        <h2 className=\"text-lg font-semibold mb-6\">Vote Distribution</h2>\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <BarChart data={data}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#2a2a2a\" />\n            <XAxis\n              dataKey=\"race\"\n              tick={{ fill: '#888', fontSize: 12 }}\n              angle={-45}\n              textAnchor=\"end\"\n              height={80}\n            />\n            <YAxis tick={{ fill: '#888' }} />\n            <Tooltip\n              contentStyle={{\n                backgroundColor: '#1a1a1a',\n                border: '1px solid #2a2a2a',\n                borderRadius: '8px',\n                color: '#ededed',\n              }}\n            />\n            <Legend wrapperStyle={{ color: '#ededed' }} />\n            <Bar dataKey=\"votes.fullRace\" fill=\"#e10600\" name=\"Full Race\" radius={[4, 4, 0, 0]} />\n            <Bar dataKey=\"votes.raceIn30\" fill=\"#3b82f6\" name=\"Race in 30\" radius={[4, 4, 0, 0]} />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;;AAae,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,iBAAiB;YACrB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,QAAQ;YACV,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;YAC9C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA8C;;;;;;0BAE5D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC,mKAAA,CAAA,sBAAmB;wBAAC,OAAM;wBAAO,QAAQ;kCACxC,cAAA,8OAAC,oJAAA,CAAA,WAAQ;4BAAC,MAAM;;8CACd,8OAAC,6JAAA,CAAA,gBAAa;oCAAC,iBAAgB;oCAAM,QAAO;;;;;;8CAC5C,8OAAC,qJAAA,CAAA,QAAK;oCACJ,SAAQ;oCACR,MAAM;wCAAE,MAAM;wCAAQ,UAAU;oCAAG;oCACnC,OAAO,CAAC;oCACR,YAAW;oCACX,QAAQ;;;;;;8CAEV,8OAAC,qJAAA,CAAA,QAAK;oCAAC,MAAM;wCAAE,MAAM;oCAAO;;;;;;8CAC5B,8OAAC,uJAAA,CAAA,UAAO;oCACN,cAAc;wCACZ,iBAAiB;wCACjB,QAAQ;wCACR,cAAc;wCACd,OAAO;oCACT;;;;;;8CAEF,8OAAC,sJAAA,CAAA,SAAM;oCAAC,cAAc;wCAAE,OAAO;oCAAU;;;;;;8CACzC,8OAAC,mJAAA,CAAA,MAAG;oCAAC,SAAQ;oCAAiB,MAAK;oCAAU,MAAK;oCAAY,QAAQ;wCAAC;wCAAG;wCAAG;wCAAG;qCAAE;;;;;;8CAClF,8OAAC,mJAAA,CAAA,MAAG;oCAAC,SAAQ;oCAAiB,MAAK;oCAAU,MAAK;oCAAa,QAAQ;wCAAC;wCAAG;wCAAG;wCAAG;qCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/F","debugId":null}}]
}